--- a/net/minecraft/world/level/chunk/storage/EntityStorage.java
+++ b/net/minecraft/world/level/chunk/storage/EntityStorage.java
@@ -33,7 +_,7 @@
    private final ServerLevel f_156538_;
    private final IOWorker f_156539_;
    private final LongSet f_156540_ = new LongOpenHashSet();
-   private final ProcessorMailbox<Runnable> f_182485_;
+   public final ProcessorMailbox<Runnable> f_182485_;
    protected final DataFixer f_156534_;
 
    public EntityStorage(ServerLevel p_156544_, File p_156545_, DataFixer p_156546_, boolean p_156547_, Executor p_156548_) {
@@ -90,8 +_,12 @@
          ListTag listtag = new ListTag();
          p_156559_.m_156792_().forEach((p_156567_) -> {
             CompoundTag compoundtag1 = new CompoundTag();
+            try {
             if (p_156567_.m_20223_(compoundtag1)) {
                listtag.add(compoundtag1);
+            }
+            } catch (Exception e) {
+               LogManager.getLogger().error("An Entity type {} has thrown an exception trying to write state. It will not persist. Report this to the mod author", p_156567_.m_6095_(), e);
             }
 
          });
